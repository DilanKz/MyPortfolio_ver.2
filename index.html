<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DilanKz</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
<main class="scroll-container" id="scrollContainer">

    <div id="rotateMessage">
    </div>
    <div id="circleCursor"></div>

    <header id="navbar">

        <div id="logo" class="">

            <svg class="cursorBig" xmlns="http://www.w3.org/2000/svg"
                  id="Layer_1" x="0px" y="0px" viewBox="0 -250 1000 1000"
                 style="enable-background:new 0 -250 1000 1000;" xml:space="preserve">
                    <path d="M752.5,138.4L752.5,138.4c-1-2.1-1.9-4.1-2.8-6.1c-0.4-0.9-0.8-1.7-1.2-2.6c-4.4-9.3-9.4-18.3-14.9-27.2  c-0.6-1-1.2-1.9-1.8-2.9c-0.6-0.9-1.2-1.9-1.8-2.8c-0.6-0.9-1.2-1.9-1.9-2.8c-0.6-0.9-1.3-1.9-1.9-2.8c-0.6-0.9-1.3-1.8-1.9-2.7  c-0.7-0.9-1.3-1.8-2-2.7s-1.3-1.8-2-2.7c-3.1-4.1-6.3-8.2-9.7-12.2c-0.7-0.8-1.4-1.6-2.1-2.4c-3.1-3.6-6.3-7.1-9.6-10.6  c-0.8-0.9-1.6-1.7-2.5-2.6c-0.1-0.1-0.1-0.1-0.2-0.2c-0.8-0.8-1.6-1.6-2.4-2.4c-0.8-0.8-1.7-1.7-2.6-2.5c-0.8-0.8-1.7-1.7-2.6-2.5  c-0.9-0.8-1.7-1.6-2.6-2.4c-0.9-0.8-1.7-1.6-2.6-2.4c-0.9-0.8-1.8-1.6-2.7-2.4c-1.5-1.3-3-2.6-4.5-3.9c-0.7-0.6-1.4-1.2-2.2-1.8  c-0.9-0.7-1.7-1.4-2.6-2.1c-1.7-1.4-3.5-2.8-5.3-4.1c-2.7-2-5.4-4-8.1-6c-6.4-4.5-13-8.8-19.7-12.8l-2.9-1.7L635.3,8  c-2.9-1.6-5.8-3.3-8.8-4.8c-0.1-0.1-0.2-0.1-0.3-0.2c-4.9-2.6-9.9-5-14.9-7.3c-2.1-0.9-4.1-1.8-6.2-2.7c-0.7-0.3-1.5-0.6-2.2-0.9  c-0.5-0.2-1-0.4-1.4-0.6c-1-0.4-2.1-0.8-3.2-1.3c-1-0.4-2.1-0.8-3.2-1.2c-5.3-2-10.6-3.8-16-5.5c-17.7-5.5-36.3-9.3-55.3-11.1  c-1.4-0.2-2.9-0.3-4.3-0.4c-2-0.2-4-0.3-6-0.4c-2.1-0.1-4.1-0.2-6.2-0.3c-0.6,0-1.3-0.1-1.9-0.1c-1.8-0.1-3.5-0.1-5.3-0.1  c-1.1,0-2.3,0-3.4,0V-29c-0.1,0-0.1,0-0.3,0h-28.5h-81.2H224.3v81.2H300h0.1c0,0-0.1,0.1-0.1,0.1h86.7v319.1h81.2V52.3h22.5  c1.1,0,2.1-0.1,3.1-0.1h3.1c34.7,0,68,8.9,97.4,25.5c2.8,1.6,5.6,3.2,8.3,5c2.7,1.7,5.4,3.5,8.1,5.4c4,2.8,7.8,5.7,11.6,8.8  c2.5,2.1,5,4.2,7.4,6.4c2.4,2.2,4.8,4.5,7.2,6.8c0.8,0.8,1.6,1.6,2.3,2.4c0.8,0.8,1.6,1.6,2.3,2.4l0.1,0.1  c34.3,36.8,53.2,84.4,53.2,134.9c0,52.9-20.6,102.6-58,139.9c-37.4,37.4-87.1,58-139.9,58c-2.3,0-4.5,0-6.7-0.1H305.5V130.5h-81.2  v317.3v72.4v8.8h272.4v-0.2h0c154.1,0,279-124.9,279-279C775.7,210.3,767.4,172.6,752.5,138.4z"/>
                </svg>
        </div>

        <div id="menu" class="cursorBig">MENU</div>

    </header>

    <section id="home-section" class="screen-width">
        <div id="home-content-wrapper">
            <h1>THARINDU DILAN</h1>
            <h1>SOFTWARE DEVELOPER</h1>
            <div id="button-section">
                <button class="cursorBig" style="width: max-content">Contact me</button>
            </div>
        </div>

    </section>

    <section class="screen-width">
        <div class="titleSection">
            <h1>Who am I</h1>
        </div>
    </section>

    <section class="screen-width">
        <div class="titleSection">
            <h1>What can I do</h1>
        </div>
    </section>

    <section class="screen-width">
        <div class="titleSection">
            <h1>Contact Me</h1>
        </div>
        <button class="cursorBig" style="width: max-content">A</button>
    </section>
    <footer>
        <ul>
            <li>IN</li>
            <li>FB</li>
            <li>TW</li>
        </ul>
    </footer>
</main>

<script>
    function checkOrientation() {
        const orientationMessage = document.getElementById('rotateMessage');

        if (window.innerWidth > window.innerHeight) {
            orientationMessage.style.display = 'none';
        } else {
            orientationMessage.style.display = 'block';
        }
    }

    checkOrientation();

    window.addEventListener('resize', () => {
        checkOrientation();
        if (window.innerWidth > window.innerHeight) {
            document.getElementById('rotateMessage').style.display = 'none';
        }
    });

    function isTouchDevice() {
        return 'ontouchstart' in window || navigator.maxTouchPoints;
    }


    if (!isTouchDevice()) {
        document.addEventListener('mousemove', (event) => {

            const circleCursor = document.getElementById('circleCursor');
            circleCursor.style.left = `${event.clientX - 10}px`;
            circleCursor.style.top = `${event.clientY - 10}px`;

        });
    }

    const cursorBigElements = document.querySelectorAll('.cursorBig');

    cursorBigElements.forEach(element => {
        element.addEventListener('mouseenter', () => {
            console.log("entered")
            document.getElementById('circleCursor').style.width = '70px';
            document.getElementById('circleCursor').style.height = '70px';
        });

        element.addEventListener('mouseleave', () => {
            document.getElementById('circleCursor').style.width = '35px';
            document.getElementById('circleCursor').style.height = '35px';
        });
    });

</script>

<script>
    const container = document.getElementById('scrollContainer');
    let isScrolling = false;
    let startScrollX;
    let accumulatedDeltaX = 0;
    const scrollThreshold = 150;

    const handleScroll = (deltaX) => {
        accumulatedDeltaX += Math.abs(deltaX);

        if (!isScrolling && accumulatedDeltaX >= scrollThreshold) {
            isScrolling = true;

            setTimeout(() => {
                isScrolling = false;
                accumulatedDeltaX = 0;
            }, 800);

            const direction = deltaX > 0 ? 1 : -1;
            const currentScrollLeft = container.scrollLeft;
            const nextScrollLeft = Math.round(currentScrollLeft / window.innerWidth) * window.innerWidth + direction * window.innerWidth;

            container.scrollTo({
                left: Math.min(Math.max(nextScrollLeft, 0), container.scrollWidth - container.clientWidth),
                behavior: 'smooth',
            });
        }
    };

    container.addEventListener('wheel', (event) => {
        handleScroll(event.deltaX);
        event.preventDefault();
    });

    container.addEventListener('touchstart', (event) => {
        startScrollX = event.touches[0].clientX;
        accumulatedDeltaX = 0;
    });

    container.addEventListener('touchmove', (event) => {
        const currentScrollX = event.touches[0].clientX;
        const deltaX = startScrollX - currentScrollX;
        startScrollX = currentScrollX;
        handleScroll(deltaX);
        event.preventDefault();
    });

    container.addEventListener('touchend', () => {
        accumulatedDeltaX = 0;
    });
</script>

<script>
    let isScrollingWheel = false;
    let accumulatedDeltaY = 0;
    const scrollThresholdwheel = 50;

    container.addEventListener('wheel', (event) => {
        accumulatedDeltaY += Math.abs(event.deltaY);

        if (!isScrollingWheel && accumulatedDeltaY >= scrollThresholdwheel) {
            isScrollingWheel = true;

            setTimeout(() => {
                isScrollingWheel = false;
                accumulatedDeltaY = 0;
            }, 300);

            const direction = event.deltaY > 0 ? 1 : -1;
            const currentScrollLeft = container.scrollLeft;
            const nextScrollLeft = Math.round(currentScrollLeft / window.innerWidth) * window.innerWidth + direction * window.innerWidth;

            container.scrollTo({
                left: nextScrollLeft,
                behavior: 'smooth',
            });
        }

        event.preventDefault();
    });
</script>

</body>
</html>
